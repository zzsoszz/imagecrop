<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="UTF-8">
	<title>fabric demo</title>
	<script src="js/jquery-3.2.0.js"></script>
	<script src="js/fabric.min.js"></script>

</head>
<body>

	 <canvas id="c" width="500" height="500" style="border:1px solid #aaa"></canvas>

	 <script>
		
		(function() {


		  var canvas = this.__canvas = new fabric.Canvas('c');
		  //fabric.Object.prototype.transparentCorners = false;
		  var radius = 50;
		  fabric.Image.fromURL('images/1.jpg', function(img) {
		    img.scale(0.5).set({
		      left: 100,
		      top: 100,
		      angle: 0,
		      clipTo: function (ctx) {
		        ctx.arc(0, 0, 100, 0, Math.PI * 2, true);
		      }
		    });
		    canvas.add(img);//.setActiveObject(img);
		    //canvas.add(img).setActiveObject(img);
		  });



/*
		  (function animate() {
		    fabric.util.animate({
		      startValue: Math.round(radius) === 50 ? 50 : 300,
		      endValue: Math.round(radius) === 50 ? 300 : 50,
		      duration: 1000,
		      onChange: function(value) {
		        radius = value;
		        canvas.renderAll();
		      },
		      onComplete: animate
		    });
		  })();
*/


		})();

	</script>
	
</body>
</html>